(()=>{"use strict";var t,e={2031:(t,e,n)=>{var s=n(9477),i=n(9365),o=n(2327),a=n(5079),r=n(4376);const l=(t,e)=>new s.Pa4(t*e.x,t*e.y,t*e.z),d=(t,e)=>new s.Pa4(t.x+e.x,t.y+e.y,t.z+e.z),v=(t,e)=>t+(e-t)*Math.random();class h{constructor(t,e){this.s=t,this.v=e}static multiplyF(t,e){return new h(t*e.s,new s.Pa4(t*e.v.x,t*e.v.y,t*e.v.z))}static multiply(t,e){const n=t.s*e.s-t.v.dot(e.v),s=l(t.s,e.v),i=l(e.s,t.v),o=t.v.cross(e.v),a=d(d(s,i),o);return new h(n,a)}static add(t,e){return new h(t.s+e.s,d(t.v,e.v))}static subtract(t,e){return new h(t.s-e.s,(n=t.v,i=e.v,new s.Pa4(n.x-i.x,n.y-i.y,n.z-i.z)));var n,i}static slerp(t,e,n){if(1===n)return e;if(0===n)return t;t.normalize(),e.normalize();let s=h.dot(t,e);if(s<0&&(t.negate(),s=-s),s>.9995){const s=h.add(t,h.multiplyF(n,h.subtract(e,t)));return s.normalize(),s}let i=Math.acos(s),o=i*n,a=Math.sin(o),r=Math.sin(i),l=Math.cos(o)-s*a/r,d=a/r;return h.add(h.multiplyF(l,t),h.multiplyF(d,e))}normalize(){let t=1/this.length();this.s=this.s*t,this.v.x=this.v.x*t,this.v.y=this.v.y*t,this.v.z=this.v.z*t}length(){const t=t=>t*t;return Math.sqrt(t(this.s)+t(this.v.x)+t(this.v.y)+t(this.v.z))}negate(){this.s=-this.s,this.v.x=-this.v.x,this.v.y=-this.v.y,this.v.z=-this.v.z}convertToMatrix(){const t=new s.Vkp;return this.normalize(),t.set(1-2*(this.v.y*this.v.y+this.v.z*this.v.z),2*(this.v.x*this.v.y-this.s*this.v.z),2*(this.v.x*this.v.z+this.s*this.v.y),2*(this.v.x*this.v.y+this.s*this.v.z),1-2*(this.v.x*this.v.x+this.v.z*this.v.z),2*(this.v.y*this.v.z-this.s*this.v.x),2*(this.v.x*this.v.z-this.s*this.v.y),2*(this.v.y*this.v.z+this.s*this.v.x),1-2*(this.v.x*this.v.x+this.v.y*this.v.y)),t}set(t,e,n,s){this.s=t,this.v.x=e,this.v.y=n,this.v.z=s}}h.dot=(t,e)=>{return n=t.v,s=e.v,n.x*s.x+n.y*s.y+n.z*s.z+t.s*e.s;var n,s};var c=n(1217);const u={values:{t:0,buttons:{add:()=>{const t=new h(v(-1,1),new s.Pa4(v(-1,1),v(-1,1),v(-1,1)));t.normalize(),O.push(t);const e=b.addFolder(`Quaternion ${O.length}`);e.add(t,"s"),e.add(t.v,"x"),e.add(t.v,"y"),e.add(t.v,"z"),e.open(),u.quaternions.push(e),u.controllers.t.max(O.length-1)},removeLast:()=>{if(u.quaternions.length<=2)return;const t=u.quaternions[O.length-1];b.removeFolder(t),u.quaternions.pop(),O.pop(),u.controllers.t.max(O.length-1)}},animate:!1},quaternions:[],controllers:{}},m="Alt",p=document.querySelector(".nav-bar").clientHeight,y=document.querySelector("#infotext"),w=new s.CP7({canvas:document.querySelector("#glcanvas")});w.setSize(window.innerWidth,window.innerHeight-p),w.setPixelRatio(2);const x=w.getSize(new s.FM8),z=new s.xsS;z.add(new s.VLJ(16,16));const f=new s.cPb(60,x.x/x.y,.01,100);f.position.set(0,2,5);const g=(0,a.Z)();g.dom.style.top=`${p}px`,document.querySelector(".content-container").appendChild(g.dom),g.update();const q=new i.z(f,w.domElement);q.enabled=!1,y.innerHTML="Hold 'Alt' to move the camera.";const b=new r.XS({closeOnTop:!0,name:"Controls"});b.add(u.values.buttons,"add").name("Add Quaternion"),b.add(u.values.buttons,"removeLast").name("Remove last Quaternion");const M={general:b.addFolder("General Settings")};for(const t in M)M[t].open();b.domElement.style.marginTop=`${p}px`,u.controllers.t=M.general.add(u.values,"t",0,1,.01),u.controllers.animate=M.general.add(u.values,"animate"),window.addEventListener("resize",(()=>{((t,e)=>{const n=window.innerWidth,s=window.window.innerHeight-document.querySelector(".nav-bar").clientHeight;t.setSize(n,s),e.aspect=n/s,e.updateProjectionMatrix()})(w,f),w.render(z,f)}),!1),window.addEventListener("keydown",(t=>{t.key===m&&(q.enabled=!0)})),window.addEventListener("keyup",(t=>{t.key===m&&(q.enabled=!1)}));const P=new h(1,new s.Pa4(0,0,0)),E=new h(v(-1,1),new s.Pa4(v(-1,1),v(-1,1),v(-1,1)));E.normalize(),u.quaternions.push(b.addFolder("Quaternion 1")),u.quaternions[0].add(P,"s"),u.quaternions[0].add(P.v,"x"),u.quaternions[0].add(P.v,"y"),u.quaternions[0].add(P.v,"z"),u.quaternions[0].open(),u.quaternions.push(b.addFolder("Quaternion 2")),u.quaternions[1].add(E,"s"),u.quaternions[1].add(E.v,"x"),u.quaternions[1].add(E.v,"y"),u.quaternions[1].add(E.v,"z"),u.quaternions[1].open();const O=[P,E];!function(){var t,e,n,i;t=this,e=void 0,i=function*(){const t=new c.E;let e=(yield t.loadAsync("resources/marble_bust_01_2k/marble_bust_01_2k.gltf",(t=>{console.log(t)}))).scene.children[0];z.add(e);const n=new s.Ox3(16777215,2);n.position.set(3,3,3),z.add(n),e.matrixAutoUpdate=!1;const i=new o.Ys(f,w.domElement);i.enabled=!1,z.add(i),i.attach(e),i.setSpace("local");let a=0,r=Date.now();const l=()=>{(()=>{let t=u.values.t;if(u.quaternions.forEach((t=>t.domElement.classList.remove("activeInterpolation"))),Math.floor(t)<O.length-1){const n=Math.floor(t),i=O[n],o=O[n+1],a=h.slerp(i,o,t-n).convertToMatrix(),r=(new s.yGw).setFromMatrix3(a);r.scale(new s.Pa4(4,4,4)),e.matrix=r;try{u.quaternions[n].domElement.classList.add("activeInterpolation"),u.quaternions[n+1].domElement.classList.add("activeInterpolation")}catch(t){}}else try{u.quaternions[u.quaternions.length-1].domElement.classList.add("activeInterpolation")}catch(t){}})(),u.values.animate&&(()=>{const t=((t,e,n)=>{let s=(e-0)/2;return 0+s+Math.sin(n)*s})(0,O.length-1,r/(750*(O.length-1)));u.controllers.t.setValue(t),u.controllers.t.step(1e-4),a+=1,r=Date.now()})(),w.render(z,f),g.update(),requestAnimationFrame(l)};l()},new((n=void 0)||(n=Promise))((function(s,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function r(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,r)}l((i=i.apply(t,e||[])).next())}))}()}},n={};function s(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,s),o.exports}s.m=e,t=[],s.O=(e,n,i,o)=>{if(!n){var a=1/0;for(v=0;v<t.length;v++){for(var[n,i,o]=t[v],r=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(s.O).every((t=>s.O[t](n[l])))?n.splice(l--,1):(r=!1,o<a&&(a=o));if(r){t.splice(v--,1);var d=i();void 0!==d&&(e=d)}}return e}o=o||0;for(var v=t.length;v>0&&t[v-1][2]>o;v--)t[v]=t[v-1];t[v]=[n,i,o]},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.j=760,(()=>{var t={760:0};s.O.j=e=>0===t[e];var e=(e,n)=>{var i,o,[a,r,l]=n,d=0;if(a.some((e=>0!==t[e]))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var v=l(s)}for(e&&e(n);d<a.length;d++)o=a[d],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(v)},n=self.webpackChunkcg3_ss22_indigo=self.webpackChunkcg3_ss22_indigo||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var i=s.O(void 0,[736],(()=>s(2031)));i=s.O(i)})();